---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "./FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, pubDate, heroImage, tags, minRead, description } = Astro.props;
---

<div class="tw-grid tw-grid-cols-[4fr_2fr] tw-grid-rows-[1fr_auto_1fr] tw-gap-1 lg:tw-gap-2">
  <div class="tw-text-[12px] lg:tw-text-[18px]">
    <span>{minRead} min read</span> â€¢ <FormattedDate date={pubDate} />
  </div>
  <div class="tw-col-start-1 tw-row-start-2">
    <h3 class="tw-font-bold lg:tw-text-[25px]">{title}</h3>
    <p class="tw-text-[14px] lg:tw-hidden">
      {description.length < 25 ? description : `${description.substring(0, 25)}...`}
    </p>
    <p class="tw-hidden lg:tw-text-[18px] lg:tw-flex lg:tw-flex-wrap">
      {description.length < 50 ? description : `${description.substring(0, 150)}...`}
    </p>
  </div>
  <img
    class="tw-col-start-2 tw-row-start-2"
    width="400"
    height="150"
    src={heroImage}
    alt="thumbnail"
  />
  <div class="tw-col-start-1 tw-row-start-3 tw-space-x-1">
    {
      tags.map((tag) => (
        <span class="tw-inline-block tw-bg-black tw-text-white tw-text-[12px] tw-text-center tw-rounded-xl tw-box-border tw-p-[5px] tw-min-w-10 lg:tw-text-[14px] lg:tw-p-[5px]">
          {tag}
        </span>
      ))
    }
  </div>
  <hr class="tw-col-start-1 tw-my-2 tw-row-start-4 tw-col-span-2" />
</div>
